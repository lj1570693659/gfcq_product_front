(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73f5aa1c"],{"0a49":function(e,t,n){var r=n("9b43"),o=n("626a"),a=n("4bf8"),i=n("9def"),l=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,s=3==e,u=4==e,f=6==e,d=5==e||f,p=t||l;return function(t,l,v){for(var m,b,y=a(t),g=o(y),h=r(l,v,3),_=i(g.length),w=0,I=n?p(t,_):c?p(t,0):void 0;_>w;w++)if((d||w in g)&&(m=g[w],b=h(m,w,y),e))if(n)I[w]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:I.push(m)}else if(u)return!1;return f?-1:s||u?u:I}}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},1169:function(e,t,n){var r=n("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"11e9":function(e,t,n){var r=n("52a7"),o=n("4630"),a=n("6821"),i=n("6a99"),l=n("69a8"),c=n("c69a"),s=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?s:function(e,t){if(e=a(e),t=i(t,!0),c)try{return s(e,t)}catch(n){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},"3b2b":function(e,t,n){var r=n("7726"),o=n("5dbc"),a=n("86cc").f,i=n("9093").f,l=n("aae3"),c=n("0bfb"),s=r.RegExp,u=s,f=s.prototype,d=/a/g,p=/a/g,v=new s(d)!==d;if(n("9e1e")&&(!v||n("79e5")((function(){return p[n("2b4c")("match")]=!1,s(d)!=d||s(p)==p||"/a/i"!=s(d,"i")})))){s=function(e,t){var n=this instanceof s,r=l(e),a=void 0===t;return!n&&r&&e.constructor===s&&a?e:o(v?new u(r&&!a?e.source:e,t):u((r=e instanceof s)?e.source:e,r&&a?c.call(e):t),n?this:f,s)};for(var m=function(e){e in s||a(s,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},b=i(u),y=0;b.length>y;)m(b[y++]);f.constructor=s,s.prototype=f,n("2aba")(r,"RegExp",s)}n("7a56")("RegExp")},"5dbc":function(e,t,n){var r=n("d3f4"),o=n("8b97").set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},"66b3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("添加")]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"判断规则",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("span",["gt"==r.crewDutyInfo.arith?n("span",[e._v("大于")]):e._e(),e._v(" "),"lt"==r.crewDutyInfo.arith?n("span",[e._v("小于")]):e._e(),e._v(" "),"egt"==r.crewDutyInfo.arith?n("span",[e._v("大于等于")]):e._e(),e._v(" "),"elt"==r.crewDutyInfo.arith?n("span",[e._v("小于等于")]):e._e(),e._v(" "),"eq"==r.crewDutyInfo.arith?n("span",[e._v("等于")]):e._e(),e._v(" "),"neq"==r.crewDutyInfo.arith?n("span",[e._v("不等于")]):e._e()])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"职级",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?[n("el-select",{attrs:{placeholder:"请选择判断规则",size:"small"},model:{value:r.crewDutyInfo.jobLevelId,callback:function(t){e.$set(r.crewDutyInfo,"jobLevelId",t)},expression:"row.crewDutyInfo.jobLevelId"}},e._l(e.levelOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)]:n("span",[e._v(e._s(r.jobLevelName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"指数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?[n("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:r.crewDutyInfo.scoreIndex,callback:function(t){e.$set(r.crewDutyInfo,"scoreIndex",t)},expression:"row.crewDutyInfo.scoreIndex"}})]:n("span",[e._v(e._s(r.crewDutyInfo.scoreIndex))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?[n("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:r.crewDutyInfo.remark,callback:function(t){e.$set(r.crewDutyInfo,"remark",t)},expression:"row.crewDutyInfo.remark"}}),e._v(" "),n("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(r)}}},[e._v("\n            cancel\n          ")])]:n("span",[e._v(e._s(r.crewDutyInfo.remark))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(t){return e.confirmEdit(r)}}},[e._v("\n          Ok\n        ")]):n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){r.edit=!r.edit}}},[e._v("\n          Edit\n        ")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(r)}}},[e._v("\n          删除\n        ")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:"职级：",prop:"jobLevelId"}},[n("el-select",{attrs:{placeholder:"请选择职级",size:"small"},model:{value:e.temp.jobLevelId,callback:function(t){e.$set(e.temp,"jobLevelId",t)},expression:"temp.jobLevelId"}},e._l(e.levelOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"指数",prop:"scoreIndex"}},[n("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入管理指数"},model:{value:e.temp.scoreIndex,callback:function(t){e.$set(e.temp,"scoreIndex",t)},expression:"temp.scoreIndex"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"备注",prop:"remark"}},[n("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入备注"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" 确认 ")])],1)],1)],1)},o=[],a=(n("7514"),n("3b2b"),n("b775"));function i(e){return Object(a["a"])({url:"/config/inspirit/duty/all",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/config/inspirit/duty/create",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/config/inspirit/duty/modify",method:"put",data:e})}function s(e){return Object(a["a"])({url:"/config/inspirit/duty/delete",method:"delete",data:e})}var u=n("6ac6"),f=[{id:"eq",name:"等于"},{id:"lt",name:"小于"},{id:"egt",name:"大于等于"},{id:"elt",name:"小于等于"},{id:"gt",name:"大于"},{id:"neq",name:"不等于"}],d={filters:{},data:function(){var e=this,t=function(t,n,r){if(""===n||0===n||void 0===n)e.$message({message:"指数为必传项",type:"error"}),r(new Error("请输入指数值"));else{var o=/^[0-9]*$/,a=new RegExp(o);a.test(n)||(e.$message({message:"请输入数字格式的指数值",type:"error"}),r(new Error("请输入数字格式的指数值"))),n>10&&r(new Error("指数值不能不能大于10"))}r()},n=function(t,n,r){if(""===n||0===n||void 0===n)e.$message({message:"职级为必传项",type:"error"}),r(new Error("请选择职级"));else{var o=e.levelOptions.find((function(e){return e.Id===n}));void 0===o&&r(new Error("请选择职级"))}r()};return{textMap:{update:"编辑",create:"添加"},dialogStatus:"",levelOptions:[],arith:f,dialogFormVisible:!1,rules:{scoreIndex:[{validator:t}],jobLevelId:[{validator:n}]},list:null,total:0,temp:{},dataForm:{},listLoading:!0,listQuery:{page:1,size:10}}},created:function(){this.fetchData(),this.getLevelList()},methods:{fetchData:function(){var e=this;this.listLoading=!0,i(this.listQuery).then((function(t){var n=t;e.list=n.map((function(t){return e.$set(t,"edit",!1),t.originalarith=t.crewDutyInfo.arith,t.originaljobLevelId=t.crewDutyInfo.jobLevelId,t.originalremark=t.crewDutyInfo.remark,t.originalscoreIndex=t.crewDutyInfo.scoreIndex,t})),e.listLoading=!1}))},getLevelList:function(){var e=this;Object(u["c"])().then((function(t){var n=t.Data;e.levelOptions=n.map((function(e){return e.id=e.Id,e.name=e.Name,e})),e.listLoading=!1}))},handleCreate:function(e){var t=this;this.temp={},this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs.dataForm.validate((function(t){t&&(e.temp.arith="eq",l(e.temp).then((function(e){location.reload()})))}))},cancelEdit:function(e){e.crewDutyInfo.arith=e.originalarith,e.crewDutyInfo.jobLevelId=e.originaljobLevelId,e.crewDutyInfo.scoreIndex=e.originalscoreIndex,e.crewDutyInfo.remark=e.originalremark,e.edit=!1,this.$message({message:"参数未做变更",type:"warning"})},confirmEdit:function(e){var t=this;if(e.edit=!1,e.id=e.crewDutyInfo.id,e.arith=e.crewDutyInfo.arith,e.scoreIndex=e.crewDutyInfo.scoreIndex,e.jobLevelId=e.crewDutyInfo.jobLevelId,e.remark=e.crewDutyInfo.remark,e.jobLevelId!==e.originaljobLevelId){var n=this.levelOptions.find((function(t){return t.Id===e.jobLevelId}));void 0!==n&&(e.jobLevelName=n.Name)}c(e).then((function(e){t.$message({message:"参数变更",type:"success"})}))},handleDelete:function(e){var t=this;s({id:e.crewDutyInfo.id}).then((function(e){t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.fetchData()}))}}},p=d,v=n("0c7c"),m=Object(v["a"])(p,r,o,!1,null,null,null);t["default"]=m.exports},"6ac6":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n("b775");function o(e){return Object(r["a"])({url:"/system/organize/level/lists",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/system/organize/level/all",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/system/organize/level/create",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/system/organize/level/modify",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/system/organize/level/delete",method:"delete",data:e})}},7514:function(e,t,n){"use strict";var r=n("5ca1"),o=n("0a49")(5),a="find",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"8b97":function(e,t,n){var r=n("d3f4"),o=n("cb7c"),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},9093:function(e,t,n){var r=n("ce10"),o=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},aae3:function(e,t,n){var r=n("d3f4"),o=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},e853:function(e,t,n){var r=n("d3f4"),o=n("1169"),a=n("2b4c")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
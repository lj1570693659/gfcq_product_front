(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c81a17e"],{"0bfb":function(e,t,o){"use strict";var a=o("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"11e9":function(e,t,o){var a=o("52a7"),r=o("4630"),n=o("6821"),i=o("6a99"),l=o("69a8"),c=o("c69a"),s=Object.getOwnPropertyDescriptor;t.f=o("9e1e")?s:function(e,t){if(e=n(e),t=i(t,!0),c)try{return s(e,t)}catch(o){}if(l(e,t))return r(!a.f.call(e,t),e[t])}},"3b2b":function(e,t,o){var a=o("7726"),r=o("5dbc"),n=o("86cc").f,i=o("9093").f,l=o("aae3"),c=o("0bfb"),s=a.RegExp,u=s,p=s.prototype,d=/a/g,f=/a/g,m=new s(d)!==d;if(o("9e1e")&&(!m||o("79e5")((function(){return f[o("2b4c")("match")]=!1,s(d)!=d||s(f)==f||"/a/i"!=s(d,"i")})))){s=function(e,t){var o=this instanceof s,a=l(e),n=void 0===t;return!o&&a&&e.constructor===s&&n?e:r(m?new u(a&&!n?e.source:e,t):u((a=e instanceof s)?e.source:e,a&&n?c.call(e):t),o?this:p,s)};for(var v=function(e){e in s||n(s,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},b=i(u),g=0;b.length>g;)v(b[g++]);p.constructor=s,s.prototype=p,o("2aba")(a,"RegExp",s)}o("7a56")("RegExp")},"52f3":function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return n})),o.d(t,"d",(function(){return i})),o.d(t,"b",(function(){return l}));var a=o("b775");function r(e){return Object(a["a"])({url:"/config/inspirit/kpiRule/all",method:"get",params:e})}function n(e){return Object(a["a"])({url:"/config/inspirit/kpiRule/create",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/config/inspirit/kpiRule/modify",method:"put",data:e})}function l(e){return Object(a["a"])({url:"/config/inspirit/kpiRule/delete",method:"delete",data:e})}},"5dbc":function(e,t,o){var a=o("d3f4"),r=o("8b97").set;e.exports=function(e,t,o){var n,i=t.constructor;return i!==o&&"function"==typeof i&&(n=i.prototype)!==o.prototype&&a(n)&&r&&r(e,n),e}},"8b97":function(e,t,o){var a=o("d3f4"),r=o("cb7c"),n=function(e,t){if(r(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,o){return n(e,o),t?e.__proto__=o:a(e,o),e}}({},!1):void 0),check:n}},9093:function(e,t,o){var a=o("ce10"),r=o("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},aae3:function(e,t,o){var a=o("d3f4"),r=o("2d95"),n=o("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}},c943:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-button",{staticStyle:{margin:"10px 0"},attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("添加")]),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"绩效等级",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.LevelName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"绩效比例",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.Redio))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"得分",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.ScoreMin)+" ~ "+e._s(t.row.ScoreMax)+"\n          "),1==t.row.ScoreRange?o("span",[e._v("(包含"+e._s(t.row.ScoreMin)+")")]):e._e(),e._v(" "),2==t.row.ScoreRange?o("span",[e._v("(包含"+e._s(t.row.ScoreMax)+")")]):e._e(),e._v(" "),3==t.row.ScoreRange?o("span",[e._v("(包含"+e._s(t.row.ScoreMin)+"和"+e._s(t.row.ScoreMax)+")")]):e._e(),e._v(" "),4==t.row.ScoreRange?o("span",[e._v("(不包含"+e._s(t.row.ScoreMin)+"和"+e._s(t.row.ScoreMax)+")")]):e._e()])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.Remark))])]}}])}),e._v(" "),o("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[o("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(o){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(o){return e.handleDelete(t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"120px"}},[o("el-form-item",{attrs:{label:"得分下限",prop:"scoreMin"}},[o("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入得分下限"},model:{value:e.temp.scoreMin,callback:function(t){e.$set(e.temp,"scoreMin",t)},expression:"temp.scoreMin"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"得分上限",prop:"scoreMax"}},[o("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入得分上限"},model:{value:e.temp.scoreMax,callback:function(t){e.$set(e.temp,"scoreMax",t)},expression:"temp.scoreMax"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"得分关系",prop:"scoreRange"}},[o("el-select",{attrs:{filterable:"","default-first-option":"",remote:"",placeholder:"请选择得分关系"},model:{value:e.temp.scoreRange,callback:function(t){e.$set(e.temp,"scoreRange",t)},expression:"temp.scoreRange"}},e._l(e.scoreRangeOptions,(function(e,t){return o("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"绩效名称",prop:"levelName"}},[o("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入绩效名称"},model:{value:e.temp.levelName,callback:function(t){e.$set(e.temp,"levelName",t)},expression:"temp.levelName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"绩效比例",prop:"redio"}},[o("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入绩效比例"},model:{value:e.temp.redio,callback:function(t){e.$set(e.temp,"redio",t)},expression:"temp.redio"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注",prop:"remark"}},[o("el-input",{attrs:{size:"small",autocomplete:"off",placeholder:"请输入备注"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" 确认 ")])],1)],1)],1)},r=[],n=(o("3b2b"),o("52f3")),i=[{id:0,name:"请选择"},{id:1,name:"包含得分下限"},{id:2,name:"包含得分上限"},{id:3,name:"包含得分上限和得分下限"},{id:4,name:"不包含得分上限和得分下限"}],l={filters:{},data:function(){var e=this,t=function(t,o,a){""===o||0===o||void 0===o?(e.$message({message:"绩效等级为必传项",type:"error"}),a(new Error("请输入绩效等级"))):a()},o=function(t,o,a){if(""===o||0===o||void 0===o)e.$message({message:"得分上下限为必传项",type:"error"}),a(new Error("请输入得分上下限值"));else{var r=/^[0-9]*$/,n=new RegExp(r);n.test(o)||(e.$message({message:"请输入数字格式的得分上下限值",type:"error"}),a(new Error("请输入数字格式的得分上下限值"))),a()}},a=function(t,o,a){0!==o&&1!==o&&2!==o&&3!==o&&4!==o?(e.$message({message:"得分关系选择错误",type:"error"}),a(new Error("得分关系选择错误"))):a()},r=function(t,o,a){if(""===o||void 0===o)e.$message({message:"绩效比例为必传项",type:"error"}),a(new Error("请输入分配比例"));else{var r=/^\D*([0-9]\d*\.?\d{0,3})?.*$/,n=new RegExp(r);n.test(o)||(e.$message({message:"请输入数字格式的绩效比例值",type:"error"}),a(new Error("请输入数字格式的绩效比例值"))),a()}};return{textMap:{update:"编辑",create:"添加"},temp:{},scoreRangeOptions:i,dialogStatus:"",dialogFormVisible:!1,rules:{levelName:[{validator:t}],scoreMin:[{validator:o}],scoreMax:[{validator:o}],scoreRange:[{validator:a}],redio:[{validator:r}]},list:null,dataForm:{},listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(n["c"])().then((function(t){var o=t.Data;e.list=o.map((function(e){return void 0===e.ScoreMin&&(e.ScoreMin=0),void 0===e.ScoreMax&&(e.ScoreMax=0),void 0===e.Redio&&(e.Redio=0),e})),e.listLoading=!1}))},handleCreate:function(e){var t=this;this.temp={},this.dialogFormVisible=!0,this.dialogStatus="create",this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs.dataForm.validate((function(t){t&&Object(n["a"])(e.temp).then((function(e){location.reload()}))}))},handleEdit:function(e){var t=this;this.temp={id:e.Id,levelName:e.LevelName,scoreMin:e.ScoreMin,scoreMax:e.ScoreMax,scoreRange:e.ScoreRange,redio:e.Redio,remark:e.Remark},this.dialogFormVisible=!0,this.dialogStatus="update",this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;console.log("this.temp---------",this.temp),this.$refs.dataForm.validate((function(t){t&&Object(n["d"])(e.temp).then((function(e){location.reload()}))}))},handleDelete:function(e){var t=this;Object(n["b"])({id:e.Id}).then((function(e){t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.fetchData()}))}}},c=l,s=o("0c7c"),u=Object(s["a"])(c,a,r,!1,null,null,null);t["default"]=u.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e074e5d"],{2913:function(e,t,r){},3119:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return u}));var o=r("b775");function n(e){return Object(o["a"])({url:"/system/organize/job/lists",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/system/organize/job/all",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/system/organize/job/create",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/system/organize/job/modify",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/system/organize/job/delete",method:"delete",data:e})}},6628:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"工号",prop:"workNumber"}},[r("el-input",{model:{value:e.form.workNumber,callback:function(t){e.$set(e.form,"workNumber",t)},expression:"form.workNumber"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[r("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{"remote-method":e.getSex,filterable:"","default-first-option":"",remote:"",placeholder:"请选择性别信息"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e,t){return r("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[r("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[r("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"职级",prop:"jobLevel"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.getJobLevel,filterable:"","default-first-option":"",remote:"",placeholder:"请选择职级信息"},model:{value:e.form.jobLevel,callback:function(t){e.$set(e.form,"jobLevel",t)},expression:"form.jobLevel"}},e._l(e.jobLevelListOptions,(function(e,t){return r("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"岗位",prop:"jobId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.getJob,multiple:"",filterable:"","default-first-option":"",remote:"",placeholder:"请选择岗位信息"},model:{value:e.temp.jobIds,callback:function(t){e.$set(e.temp,"jobIds",t)},expression:"temp.jobIds"}},e._l(e.jobListOptions,(function(e,t){return r("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"指导老师",prop:"instructorId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.getInstructor,filterable:"","default-first-option":"",remote:"",placeholder:"请选择指导老师"},model:{value:e.form.instructorId,callback:function(t){e.$set(e.form,"instructorId",t)},expression:"form.instructorId"}},e._l(e.instructorOptions,(function(e,t){return r("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"在职状态",prop:"status"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.getStatus,filterable:"","default-first-option":"",remote:"",placeholder:"请选择在职状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(e,t){return r("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},n=[],a=(r("c5f6"),r("1c4c"),r("5df3"),r("4f7f"),r("28a5"),r("7f7f"),r("ac6a"),r("6ac6")),s=r("c0c4"),i=r("3119"),u=r("b5ae"),l={id:0,userName:"",sex:2,phone:"",email:"",jobLevel:0,departId:0,jobId:0,instructorId:0,status:1,remark:""},m={isEdit:!1,data:function(){var e=this,t=function(t,r,o){""===r?(e.$message({message:"姓名为必传项",type:"error"}),o(new Error("姓名为必传项"))):o()},r=function(t,r,o){1!==r&&2!==r?(e.$message({message:"性别为必传项",type:"error"}),o(new Error("请选择性别"))):o()},o=function(t,r,o){0===r?(e.$message({message:"职级为必传项",type:"error"}),o(new Error("请选择职级"))):o()},n=function(t,r,o){""===r?(e.$message({message:t.field+"为必传项",type:"error"}),o(new Error(t.field+"为必传项"))):o()},a=function(t,r,o){0===r?(e.$message({message:"岗位为必传项",type:"error"}),o(new Error("请选择岗位"))):o(),o()},s=function(t,r,o){r<=0||r>4?(e.$message({message:"在职状态为必传项",type:"error"}),o(new Error("请选择在职状态"))):o()};return{form:l,temp:{},jobLevelListOptions:[],departmentListOptions:[],jobListOptions:[],instructorOptions:[],sexOptions:[],statusOptions:[],rules:{userName:[{validator:t}],sex:[{validator:r}],phone:[{validator:n}],jobLevel:[{validator:o,trigger:"blur"}],jobIds:[{validator:a}],status:[{validator:s}]}}},created:function(){if(this.getJobLevel(),this.getDepartment(),this.getJob(),this.getInstructor(),this.getSex(),this.getStatus(),this.$route.query.id){var e=this.$route.query&&this.$route.query.id;this.fetchData(e)}this.tempRoute=Object.assign({},this.$route)},methods:{onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0;var r={id:e.form.id,userName:e.form.userName,sex:e.form.sex,phone:e.form.phone,email:e.form.email,jobLevel:e.form.jobLevel,departId:e.temp.departIds,jobId:e.temp.jobIds,jobIds:e.temp.jobIds,instructorId:e.form.instructorId,status:e.form.status,remark:e.form.remark,workNumber:e.form.workNumber};e.isEdit?Object(u["e"])(r).then((function(t){e.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3}),e.loading=!1,e.$router.push({path:"/system/organize/employee"})})):Object(u["a"])(r).then((function(t){e.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3}),e.loading=!1,e.$router.push({path:"/system/organize/employee"})}))}))},onCancel:function(){this.$message({message:"cancel!",type:"warning"})},getSex:function(e){this.sexOptions.push({id:0,name:"请选择"}),this.sexOptions.push({id:1,name:"男"}),this.sexOptions.push({id:2,name:"女"})},getStatus:function(e){this.statusOptions.push({id:0,name:"请选择"}),this.statusOptions.push({id:1,name:"在职"}),this.statusOptions.push({id:2,name:"试用期"}),this.statusOptions.push({id:3,name:"实习期"}),this.statusOptions.push({id:4,name:"已离职"})},getInstructor:function(e){var t=this;Object(u["b"])(e).then((function(e){e.Data&&(t.instructorOptions.push({id:0,name:"请选择"}),e.Data.forEach((function(e,r){t.instructorOptions.push({id:e.Id,name:e.WorkNumber+" - "+e.UserName})})))}))},getJobLevel:function(e){var t=this;Object(a["c"])(e).then((function(e){e.Data&&(t.jobLevelListOptions.push({id:0,name:"请选择"}),e.Data.forEach((function(e,r){t.jobLevelListOptions.push({id:e.Id,name:e.Name})})))}))},getJob:function(e){var t=this;Object(i["c"])(e).then((function(e){e.Data&&e.Data.forEach((function(e,r){t.jobListOptions.push({id:e.Id,name:e.Name})}))}))},getDepartment:function(e){var t=this;Object(s["c"])(e).then((function(e){e&&(t.departmentListOptions.push({id:0,name:"请选择"}),e.forEach((function(e,r){0===e.pid&&(t.departmentListOptions.push({id:e.id,name:e.name}),e.childDepart.forEach((function(r,o){t.departmentListOptions.push({id:r.id,name:e.name+" - "+r.name}),r.childDepart.forEach((function(o,n){t.departmentListOptions.push({id:o.id,name:e.name+" - "+r.name+" - "+o.name})}))})))})))}))},setTagsViewTitle:function(e){var t="zh"===this.lang?"编辑员工信息":"Edit Employee",r=Object.assign({},this.tempRoute,{title:"".concat(t)});console.log("route---routeroute-----------",r)},fetchData:function(e){var t=this;Object(u["d"])({id:e}).then((function(e){t.isEdit=!0,t.form=e.employeeInfo,t.temp.jobIds=e.jobIds,t.temp.departIds=t.form.departId.split(",");var r=new Set(t.temp.departIds);t.temp.departIds=Array.from(r),t.temp.departIds=t.temp.departIds.map(Number)})).catch((function(e){console.log(e)}))}}},c=m,d=(r("ccd8"),r("0c7c")),f=Object(d["a"])(c,o,n,!1,null,"3f26e62a",null);t["default"]=f.exports},"6ac6":function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return u}));var o=r("b775");function n(e){return Object(o["a"])({url:"/system/organize/level/lists",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/system/organize/level/all",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/system/organize/level/create",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/system/organize/level/modify",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/system/organize/level/delete",method:"delete",data:e})}},b5ae:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return u}));var o=r("b775");function n(e){return Object(o["a"])({url:"/system/organize/employee/lists",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/system/organize/employee/all",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/system/organize/employee/info",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/system/organize/employee/create",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/system/organize/employee/modify",method:"put",data:e})}},c0c4:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return i}));var o=r("b775");function n(e){return Object(o["a"])({url:"/system/organize/department/lists",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/system/organize/department/create",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/system/organize/department/modify",method:"put",data:e})}function i(e){return Object(o["a"])({url:"/system/organize/department/delete",method:"delete",data:e})}},ccd8:function(e,t,r){"use strict";r("2913")}}]);
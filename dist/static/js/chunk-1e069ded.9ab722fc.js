(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e069ded"],{"11e9":function(e,t,r){var n=r("52a7"),o=r("4630"),a=r("6821"),i=r("6a99"),c=r("69a8"),u=r("c69a"),l=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?l:function(e,t){if(e=a(e),t=i(t,!0),u)try{return l(e,t)}catch(r){}if(c(e,t))return o(!n.f.call(e,t),e[t])}},"333d":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[r("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},o=[];r("c5f6");Math.easeInOutQuad=function(e,t,r,n){return e/=n/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,r){var n=c(),o=e-n,u=20,l=0;t="undefined"===typeof t?500:t;var s=function e(){l+=u;var c=Math.easeInOutQuad(l,n,o,t);i(c),l<t?a(e):r&&"function"===typeof r&&r()};s()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},size:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.size},set:function(e){this.$emit("update:size",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,size:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,size:this.pageSize}),this.autoScroll&&u(0,800)}}},s=l,p=(r("d8f8"),r("0c7c")),f=Object(p["a"])(s,n,o,!1,null,"bf42f026",null);t["a"]=f.exports},"5dbc":function(e,t,r){var n=r("d3f4"),o=r("8b97").set;e.exports=function(e,t,r){var a,i=t.constructor;return i!==r&&"function"==typeof i&&(a=i.prototype)!==r.prototype&&n(a)&&o&&o(e,a),e}},"7adc":function(e,t,r){"use strict";r.d(t,"h",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"k",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"j",(function(){return p})),r.d(t,"m",(function(){return f})),r.d(t,"i",(function(){return d})),r.d(t,"l",(function(){return m})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return g}));var n=r("b775");function o(e){return Object(n["a"])({url:"/product/lists",method:"get",params:e})}function a(e){return Object(n["a"])({url:"/product/all",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/product/info",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/product/detail",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/product/create",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/product/modify",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/product/delete",method:"delete",data:e})}function p(e){return Object(n["a"])({url:"/product/member/import",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/product/member/web",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/product/member/lists",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/product/member/modify",method:"put",data:e})}function b(e){return Object(n["a"])({url:"/product/member/delete",method:"delete",data:e})}function g(e){return Object(n["a"])({url:"/product/member/export",method:"get",params:e})}},"8b97":function(e,t,r){var n=r("d3f4"),o=r("cb7c"),a=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},9093:function(e,t,r){var n=r("ce10"),o=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},"96ee":function(e,t,r){},aa77:function(e,t,r){var n=r("5ca1"),o=r("be13"),a=r("79e5"),i=r("fdef"),c="["+i+"]",u="​",l=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),p=function(e,t,r){var o={},c=a((function(){return!!i[e]()||u[e]()!=u})),l=o[e]=c?t(f):i[e];r&&(o[r]=l),n(n.P+n.F*c,"String",o)},f=p.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(s,"")),e};e.exports=p},c1bf:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"icons-container"},[r("el-tabs",{attrs:{type:"border-card"}},[r("el-tab-pane",{attrs:{label:"基本信息"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"",prop:"fixBudget"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"90px",label:"项目名称:"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productInfo.name,callback:function(t){e.$set(e.form.productInfo,"name",t)},expression:"form.productInfo.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"项目经理:",prop:"fixBudget"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productPm.userName,callback:function(t){e.$set(e.form.productPm,"userName",t)},expression:"form.productPm.userName"}})],1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"fixBudget"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"90px",label:"项目简称:"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productInfo.subName,callback:function(t){e.$set(e.form.productInfo,"subName",t)},expression:"form.productInfo.subName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"项目经理属性:",prop:"fixBudget"}},[2==e.form.productInfo.attribute?r("el-input",{attrs:{value:"兼职",readonly:!0}}):e._e(),e._v(" "),1==e.form.productInfo.attribute?r("el-input",{attrs:{value:"全职",readonly:!0}}):e._e()],1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"fixBudget"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"90px",label:"优先级评分:"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productInfo.lcScore,callback:function(t){e.$set(e.form.productInfo,"lcScore",t)},expression:"form.productInfo.lcScore"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"当前阶段:",prop:"fixBudget"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productStage.name,callback:function(t){e.$set(e.form.productStage,"name",t)},expression:"form.productStage.name"}})],1)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"fixBudget"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"90px",label:"项目类型:"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productType.name,callback:function(t){e.$set(e.form.productType,"name",t)},expression:"form.productType.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"首年净利润:",prop:"fixBudget"}},[e._v("\n                "+e._s(e.form.productInfo.netProfit/1e4)+"（万元）\n              ")])],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"fixBudget"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"90px",label:"研发模式:"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productMode.name,callback:function(t){e.$set(e.form.productMode,"name",t)},expression:"form.productMode.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:10}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"激励预算:",prop:"fixBudget"}},[r("el-input",{attrs:{readonly:!0},model:{value:e.form.productInfo.incentiveBudget,callback:function(t){e.$set(e.form.productInfo,"incentiveBudget",t)},expression:"form.productInfo.incentiveBudget"}})],1)],1)],1)],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"项目组成员"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.memberList,border:"","highlight-current-row":""}},[r("el-table-column",{attrs:{align:"center",label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.$index+1)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"项目角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.productMemberInfo.prName)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"工号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.productMemberInfo.workNumber)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.employeeInfo.UserName)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"直接领导(部门/领导)"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.leaderInfo,(function(t,n){return r("p",{key:t+n,staticClass:"board-item",attrs:{label:t.name,value:t.id}},[e._v("\n              "+e._s(n)+"/"+e._s(t)+"\n            ")])}))}}])}),e._v(" "),r("el-table-column",{attrs:{label:"分类"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.edit?[r("el-select",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{placeholder:"请选择分类",clearable:""},model:{value:n.productMemberInfo.type,callback:function(t){e.$set(n.productMemberInfo,"type",t)},expression:"row.productMemberInfo.type"}},[r("el-option",{attrs:{label:"一环",value:"一环"}}),e._v(" "),r("el-option",{attrs:{label:"二环",value:"二环"}})],1),e._v(" "),r("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(n)}}},[e._v("\n                cancel\n              ")])]:"一环"==n.productMemberInfo.type?r("span",[e._v("一环")]):"二环"==n.productMemberInfo.type?r("span",[e._v("二环")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"投入占比"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.productMemberInfo.putInto.toFixed(2))+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"责任系数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.productMemberInfo.dutyIndex)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"职级"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.jobLevelInfo.Name)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"责任和职务"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:n.productMemberInfo.specificDuty,callback:function(t){e.$set(n.productMemberInfo,"specificDuty",t)},expression:"row.productMemberInfo.specificDuty"}})]:r("span",[e._v(e._s(n.productMemberInfo.specificDuty))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"工作地"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.productMemberInfo.workAddress)+"\n          ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"主导方"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.productMemberInfo.isGuide?r("span",[e._v("是")]):e._e(),e._v(" "),0==t.row.productMemberInfo.isGuide?r("span",[e._v("否")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"支持方"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.productMemberInfo.isSupport?r("span",[e._v("是")]):e._e(),e._v(" "),0==t.row.productMemberInfo.isSupport?r("span",[e._v("否")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:n.productMemberInfo.remark,callback:function(t){e.$set(n.productMemberInfo,"remark",t)},expression:"row.productMemberInfo.remark"}})]:r("span",[e._v(e._s(n.productMemberInfo.remark))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.edit?r("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(t){return e.confirmEdit(n)}}},[e._v("\n              Ok\n            ")]):r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){n.edit=!n.edit}}},[e._v("\n              Edit\n            ")])]}}])})],1),e._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,size:e.listQuery.size},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.fetchData}})],1)],1)],1)},o=[],a=r("7adc"),i=r("333d"),c={id:0,productInfo:{name:""},productStage:{name:""},productType:{name:""},productMode:{name:""},productPm:{userName:""},name:"",subName:"",lcScore:0,tid:0,modeId:0,pmId:0,attribute:0,pmlId:0,status:1,proTypeStageId:0,fixType:0,fixBudget:0,invest:0,netProfit:0,remark:""},u={components:{Pagination:i["a"]},proId:0,data:function(){return{form:c,memberList:[],tableHeader:[],total:0,listLoading:!0,listQuery:{proId:0,page:1,size:10}}},created:function(){this.fetchData(),this.fetchDetailData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.proId=this.$route.query.id,Object(a["i"])({page:this.listQuery.page,size:this.listQuery.size,proId:this.proId}).then((function(t){if(e.memberList=t.data,e.total=t.totalSize,e.size=t.size,e.listLoading=!1,e.total>0)for(var r in e.memberList)e.memberList[r].productMemberInfo.originalRemark=e.memberList[r].productMemberInfo.remark,e.memberList[r].productMemberInfo.originalType=e.memberList[r].productMemberInfo.type,e.memberList[r].productMemberInfo.originalSpecificDuty=e.memberList[r].productMemberInfo.specificDuty})).catch((function(e){console.log(e)}))},fetchDetailData:function(){var e=this;Object(a["f"])({id:this.proId}).then((function(t){e.form=t,console.log("form-------",e.form)})).catch((function(e){console.log(e)}))},onSubmit:function(){var e=this,t={proId:this.$route.query.id,memberList:this.memberList,tableHeader:this.tableHeader};Object(a["f"])(t).then((function(t){e.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3}),e.loading=!1,e.$router.push({path:"/product/index"})}))},cancelEdit:function(e){e.productMemberInfo.type=e.productMemberInfo.originalType,e.productMemberInfo.remark=e.productMemberInfo.originalRemark,e.productMemberInfo.specificDuty=e.productMemberInfo.originalSpecificDuty,e.edit=!1,this.$message({message:"任务信息未做变更",type:"warning"})},confirmEdit:function(e){var t=this;e.edit=!1,console.log("0--------------------",e);var r={id:e.productMemberInfo.id,proId:e.productMemberInfo.proId,workNumber:e.productMemberInfo.workNumber,attributeName:"兼职",prName:e.productMemberInfo.prName,remark:e.productMemberInfo.remark,specificDuty:e.productMemberInfo.specificDuty,type:e.productMemberInfo.type};Object(a["l"])(r).then((function(e){t.$message({message:"成员信息变更",type:"success"})}))}}},l=u,s=r("0c7c"),p=Object(s["a"])(l,n,o,!1,null,null,null);t["default"]=p.exports},c5f6:function(e,t,r){"use strict";var n=r("7726"),o=r("69a8"),a=r("2d95"),i=r("5dbc"),c=r("6a99"),u=r("79e5"),l=r("9093").f,s=r("11e9").f,p=r("86cc").f,f=r("aa77").trim,d="Number",m=n[d],b=m,g=m.prototype,v=a(r("2aeb")(g))==d,_="trim"in String.prototype,h=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=_?t.trim():f(t,3);var r,n,o,a=t.charCodeAt(0);if(43===a||45===a){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+t}for(var i,u=t.slice(2),l=0,s=u.length;l<s;l++)if(i=u.charCodeAt(l),i<48||i>o)return NaN;return parseInt(u,n)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof m&&(v?u((function(){g.valueOf.call(r)})):a(r)!=d)?i(new b(h(t)),r,m):h(t)};for(var y,I=r("9e1e")?l(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;I.length>w;w++)o(b,y=I[w])&&!o(m,y)&&p(m,y,s(b,y));m.prototype=g,g.constructor=m,r("2aba")(n,d,m)}},d8f8:function(e,t,r){"use strict";r("96ee")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);